ERROR 2022-08-19 14:39:49,408 api_exception_handler 106225 140278813845248 Method "GET" not allowed.
Traceback (most recent call last):
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/venv/lib/python3.8/site-packages/rest_framework/views.py", line 167, in http_method_not_allowed
    raise exceptions.MethodNotAllowed(request.method)
rest_framework.exceptions.MethodNotAllowed: Method "GET" not allowed.
ERROR 2022-08-19 14:41:24,984 api_exception_handler 106225 140278771898112 name 'symbol' is not defined
Traceback (most recent call last):
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/futures_trader/views/signal.py", line 38, in post
    step = PublicClient.fetch_ticker(symbol)
NameError: name 'symbol' is not defined
ERROR 2022-08-19 14:41:58,330 api_exception_handler 107796 140624846108416 'str' object has no attribute '_exchange'
Traceback (most recent call last):
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/futures_trader/views/signal.py", line 38, in post
    step = PublicClient.fetch_ticker(signal.symbol)
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/futures_trader/clients/public_client.py", line 9, in fetch_ticker
    return self._exchange.fetch_ticker(symbol=symbol)
AttributeError: 'str' object has no attribute '_exchange'
ERROR 2022-08-19 14:42:35,055 api_exception_handler 107893 140023980926720 unsupported operand type(s) for -: 'float' and 'str'
Traceback (most recent call last):
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/futures_trader/views/signal.py", line 40, in post
    risk = abs(step - stoploss) / step
TypeError: unsupported operand type(s) for -: 'float' and 'str'
ERROR 2022-08-19 14:43:36,323 api_exception_handler 108000 139828337202944 unsupported operand type(s) for /: 'str' and 'float'
Traceback (most recent call last):
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/futures_trader/views/signal.py", line 42, in post
    leverage = min(loss_percent / (100 * risk), MAX_LEVERAGE)
TypeError: unsupported operand type(s) for /: 'str' and 'float'
ERROR 2022-08-19 14:44:35,070 api_exception_handler 108083 140586985010944 'order_type'
Traceback (most recent call last):
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/futures_trader/views/signal.py", line 62, in post
    FuturesBotTrader.create_bot(bot_data)
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/futures_trader/services/trader.py", line 27, in create_bot
    return bot_handler.create_bot(exchange_id=bot_data['exchange_id'],
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/futures_trader/services/bot_handler.py", line 72, in create_bot
    **{k: position_data[k] for k in ['margin', 'order_type']})
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/futures_trader/services/bot_handler.py", line 72, in <dictcomp>
    **{k: position_data[k] for k in ['margin', 'order_type']})
KeyError: 'order_type'
ERROR 2022-08-19 14:44:56,304 api_exception_handler 108173 140125142927104 'FuturesBot' object has no attribute 'set_strategy_state_data'
Traceback (most recent call last):
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/futures_trader/views/signal.py", line 62, in post
    FuturesBotTrader.create_bot(bot_data)
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/futures_trader/services/trader.py", line 27, in create_bot
    return bot_handler.create_bot(exchange_id=bot_data['exchange_id'],
  File "/home/mohammad/others/codes/intellichange/DJANGO-algorithmic_trading/futures_trader/services/bot_handler.py", line 136, in create_bot
    new_bot.set_strategy_state_data(strategy_developer.init_strategy_state_data(position))
AttributeError: 'FuturesBot' object has no attribute 'set_strategy_state_data'
